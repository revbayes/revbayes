## name
srMinESS
## title
Estimated sample size stopping rule

## description
Allow an MCMC run to terminate once the specified criterion has been met.

## details
The Effective Sample Size (ESS) is the number of independent samples generated by a MCMC sampler.
The ESS takes into account the correlation between samples within a chain.
Low ESS values represent high autocorrelation in the chain.
If the autocorrelation is higher, then the uncertainty in our estimates is also higher.

The MCMC run will terminate once all parameters in every log file meet the ESS
threshold.  As such, performing additional runs will not decrease the number
of generations required to meet the ESS threshold – even though it will increase
the number of indepedent samples in the final, pooled posterior sample.

## authors
ESS explanation adapted from Luiza Fabreti and Sebastian Höhna's [tutorial](https://revbayes.github.io/tutorials/convergence/)

## see_also

- The tutorial on [convergence assessment](https://revbayes.github.io/tutorials/convergence/) contains a discusson on the calculation and interpretation of the ESS diagnostic.

## example
```
# Binomial example: estimate success probability given 7 successes out of 20 trials
r ~ dnExp(10)
p := Probability(ifelse(r < 1, r, 1))
n <- 20
k ~ dnBinomial(n, p)
k.clamp(7)
mymodel = model(k)

moves = VectorMoves()
moves.append( mvSlide(r, delta=0.1, weight=1) )

paramFile = "parameters.log"

monitors = VectorMonitors()
monitors.append( mnModel(filename=paramFile, printgen=100, p) )

# Stop when all monitored parameters have attained an estimated sample size of 50
stopping_rules[1] = srMinESS(50, file = paramFile, freq = 1000)

# Create the MCMC object
mymcmc = mcmc(mymodel, monitors, moves)

# Begin the MCMC run
mymcmc.run(rules = stopping_rules)
```

## references
